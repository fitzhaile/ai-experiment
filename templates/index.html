<!doctype html>
<!--
  Eugene the AI Sea Cow - Chat Interface HTML
  
  This is the main HTML page for the chat interface. It's a simple,
  single-page application that displays a chat UI where users can
  ask questions and get AI-generated responses.
  
  The page uses:
  - Pico CSS for basic styling (a minimal CSS framework)
  - custom.css for our custom styles and overrides
  - app.js for all the interactive JavaScript behavior
-->
<html lang="en">
<head>
  <!-- ================================================================== -->
  <!-- META TAGS - Information about the page -->
  <!-- ================================================================== -->
  
  <!-- Character encoding (UTF-8 supports all languages and emojis) -->
  <meta charset="utf-8" />
  
  <!-- Viewport settings for responsive design on mobile devices -->
  <!-- width=device-width: use the device's width -->
  <!-- initial-scale=1: don't zoom in or out by default -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Page title (shows in browser tab) -->
  <title>Sea Cow Research 早</title>
  
  <!-- Favicon: The little icon that shows in the browser tab -->
  <!-- Using an SVG with a sea cow emoji 早 -->
  <link rel="icon" href="/static/favicon.svg" type="image/svg+xml" />
  
  <!-- ================================================================== -->
  <!-- STYLESHEETS - CSS files for styling the page -->
  <!-- ================================================================== -->
  
  <!-- Pico CSS: A minimal CSS framework that provides nice default styles -->
  <!-- This is loaded first so our custom styles can override it -->
  <!-- Using the unminified version for easier reading and learning -->
  <link rel="stylesheet" href="/static/css/pico.css?v={{ v }}" />
  
  <!-- Custom CSS: Our own styles and overrides for Pico CSS -->
  <!-- This is loaded second so it takes priority over Pico -->
  <link rel="stylesheet" href="/static/css/custom.css?v={{ v }}" />
</head>

<body>
  <!-- ================================================================== -->
  <!-- MAIN CONTAINER - All content goes inside this div -->
  <!-- ================================================================== -->
  
  <!-- The "container" class (from Pico CSS) centers content and adds margins -->
  <div class="container">
    
    <!-- ==================================================================
         PAGE TITLE & MODEL SELECTOR
         ================================================================== -->
    <header class="page-header">
      <div class="logo">早</div>
      <h1>Sea Cow Research</h1>
      <p class="subtitle">Intelligent research with source filtering and AI-powered insights</p>
    </header>
    
    <!-- Model selector - hidden by default, shows on link click -->
    <!-- Allows user to choose which OpenAI model to use for the entire chat session -->
    <div class="model-selector">
      <!-- Link to show/hide the source filter dropdown -->
      <a href="#" id="changeSourceLink" class="change-model-link">Change data source</a>
      
      <!-- Source filter dropdown - hidden by default -->
      <select id="sourceFilter" style="display: none;">
        <option value="bryancounty">Bryan Co.</option>
        <option value="gov">.Gov domains</option>
      </select>
      
      <!-- Cancel link to hide the source dropdown -->
      <a href="#" id="cancelSourceLink" class="cancel-model-link" style="display: none;">Cancel</a>
      
      <!-- Link to show/hide the model dropdown -->
      <a href="#" id="changeModelLink" class="change-model-link">Change chat model</a>
      
      <!-- Model dropdown - hidden by default -->
      <select id="modelSelect" style="display: none;">
        <option value="gpt-4o" selected>gpt-4o (GPT-4 flagship)</option>
        <option value="gpt-4o-mini">gpt-4o-mini (fastest)</option>
        <option value="gpt-5-nano">gpt-5-nano (fast GPT-5)</option>
        <option value="gpt-5-mini">gpt-5-mini (balanced GPT-5)</option>
        <option value="gpt-5">gpt-5 (most accurate)</option>
      </select>
      
      <!-- Cancel link to hide the model dropdown -->
      <a href="#" id="cancelModelLink" class="cancel-model-link" style="display: none;">Cancel</a>
    </div>
    
    <!-- ==================================================================
         CHAT LOG - Where messages are displayed
         ================================================================== -->
    <!-- This div is empty initially. JavaScript will add messages here. -->
    <!-- The "log" class applies our custom chat log styling. -->
    <div id="log" class="log"></div>
    
    <!-- ==================================================================
         STATUS MESSAGE - Shows "Swimming for your answers..." while waiting
         ================================================================== -->
    <!-- This div is empty initially. JavaScript will add text when loading. -->
    <!-- aria-live="polite" tells screen readers to announce changes -->
    <div id="status" class="status" aria-live="polite"></div>
    
    <!-- ==================================================================
         INPUT ROW - Text input, checkbox, and submit button
         ================================================================== -->
    <!-- The "row" class makes these elements display side-by-side -->
    <div class="row">
      
      <!-- Text input where users type their questions -->
      <!-- id="prompt" lets JavaScript find this element -->
      <!-- type="text" makes it a single-line text input -->
      <!-- placeholder shows gray text when the input is empty -->
      <input 
        id="prompt" 
        type="text" 
        placeholder="Ask me anything... I'm all ears and flippers 早" 
      />
      
      <!-- Submit button -->
      <!-- type="button" prevents form submission (which would reload the page) -->
      <!-- JavaScript will handle the click event instead -->
      <button id="btn" type="button">Submit</button>
    </div>
    
  </div>
  
  <!-- ================================================================== -->
  <!-- JAVASCRIPT - Load the interactive behavior -->
  <!-- ================================================================== -->
  
  <!-- This script tag loads our JavaScript file -->
  <!-- It's at the end of the body so the HTML loads first -->
  <!-- This ensures all elements exist before JavaScript tries to access them -->
  <script src="/static/js/app.js?v={{ v }}"></script>
</body>
</html>